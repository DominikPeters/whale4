{% extends "polls/base.html" %}
{% load i18n %}
{% load bootstrap3 %}
{% load static %}
{% block content %}

<h3> {% trans 'Candidates' %}</h3>
<div class="row">

<div class="col-md-8">

<form action="" method="post">
{% csrf_token %}
<div class="row">
<div class="col-md-6">
  <label class="control-label">First pick one or several dates</label> 
  <input type="text" class="form-control" required="required" id="datepicker" name="dates">
</div>
<div class="col-md-6">
{{ formset.management_form }}
{% bootstrap_formset_errors formset layout='inline' %}
<div id="form_set" >
    {% for form in formset.forms %}
        <table class='no_error'>
            {% bootstrap_form form layout='horizontal' %}
        </table>
    {% endfor %}
</div>
<div id="empty_form" style="display:none">
    <table class='no_error'>
        {% bootstrap_form formset.empty_form layout='horizontal' %} 
    </table>
</div>
    
    </div>
</div>
<button type="submit" class="btn btn-primary col-md-2">
      {% bootstrap_icon "ok" %} {% trans 'Save' %}
    </button>
</form>


    <button  id="add_more" class="btn btn-primary col-md-2 pull-right">
      {% bootstrap_icon "plus" %} {% trans 'Add candidate' %}
    </button>


  
  </div>
  <div class="col-md-4">

{% if candidates %}
<p class="lead">Here is the current list of candidates:</p>
<ol class="list-group">
    {% for c in candidates %}
    <li class="list-group-item">
  <form action="/polls/deleteCandidate/{{c.poll.pk }}/{{c.id}}" method="get">{% csrf_token %}
      {{ c }}
      <button type="submit" class="close">&times;</button>
  </form>
    </li>
    {% endfor %}
</ol>
{% else %}
<p>No candidate yet</p>
{% endif %}
</div>
</div>
<a href="/polls/viewPoll/{{ poll.id}}" class="btn btn-default col-md-2"> {% trans 'Back to the poll' %}</a>

<script src="{% static 'polls/js/dateCandidate.js' %}" type="text/javascript"></script>
{% endblock %}