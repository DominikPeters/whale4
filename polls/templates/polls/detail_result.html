{% extends "polls/base.html" %}
{% load i18n %}
{% load static %}
{% load bootstrap3 %}
{% block static-extra %}
    <script src="http://d3js.org/d3.v3.js"></script>

{% endblock %}

{% block content %}




    <div class="container">

        <input type="hidden" id="url_poll" value="{% url 'scores' pk=poll.id method=method %}" />
        <input type="hidden" id="method" value="{{ method }}" />
        <input type="hidden" id="preference" value="{{ poll.preference_model }}" />
        <input type="hidden" id="round" value="{% trans 'Round' %}" />
        <input type="hidden" id="winner" value="{% trans 'Winner' %}" />
        <input type="hidden" id="approval_text" value="{% trans 'Approval threshold' %}" />
        <input type="hidden" id="scores_text" value="{% trans 'Approval scores' %}" />
        <input type="hidden" id="duel_text" value="{% trans 'Duels won' %}" />

        <div class="thumbnail clearfix">
        <h3>{{ poll.title }}</h3>
          <p class="text-center">    {% trans 'The number of participants is:' %}  <span class="badge">{{len_voters }}</span></p>

 <nav class="navbar navbar-default">
  <div class="container-fluid">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

    </div>


    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
 <ul class="nav navbar-nav ">
     <li><a  data-toggle="collapse" data-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample">
                    {% trans 'More about the' %}  {{ title }}
                </a></li>
      </ul>
      <form class="navbar-form navbar-left">
       {% if method == 4 %}
            <button  class='btn btn-custom' type="button" id="Shuffle_randomized"> <i class="fa fa-random" aria-hidden="true"></i>
                {% trans 'Shuffle candidates for the first round' %}
            </button>
            {% else %}
            <div  id="control">
                <div class="form-group ">
                    <label class="control-label" for ='option'> {{ label }}:</label>
                        <select id="option" class="form-control" >
                            {% for option in options %}
                                <option value="{{option.value}}">{{option.name}}</option>
                            {% endfor %}
                        </select>
                </div>
              {% if method == 1 %}
                <div class="form-group" id="controlApproval">
                    <label class=" control-label" for ='approval'> {% trans 'Approval threshold' %}: </label>

                        <select id="approval" class="form-control" >

                        </select>
                </div>
             {% endif %}

            {% if method == 2 %}
                <div class="form-group" id="controlCondorcet" >
                    <label class=" control-label" for ='graph_type'>{% trans ' Type of Graph' %} :</label>

                        <select id="graph_type" class="form-control" >
                            <option value="node">{% trans 'Nodes Links' %}</option>
                            <option value="matrix">{% trans 'Matrix' %}</option>
                        </select>
                </div>

              {% endif %}

            </div>
            {% endif %}
      </form>
      <ul class="nav navbar-nav navbar-right ">

          <li>      <a href="{% url 'results' poll.id %}"> {% trans 'Back to the results' %}</a></li>

      </ul>
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>




            <div class="collapse " id="collapseExample">
                <blockquote class=' well text-justify'>
                    {{ explanation }}
                </blockquote>
            </div>




            <div id="graph" class="text-center"> </div>


        </div>

    </div>
    <script src="{% static 'polls/js/result.js' %}" type="text/javascript"></script>
    <script src="{% static 'polls/js/scoring-method.js' %}" type="text/javascript"></script>
    <script src="{% static 'polls/js/condorcet-method.js' %}" type="text/javascript"></script>
    <script src="{% static 'polls/js/run-off-method.js' %}" type="text/javascript"></script>
    <script src="{% static 'polls/js/randomized-method.js' %}" type="text/javascript"></script>
{% endblock %}